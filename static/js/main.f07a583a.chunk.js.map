{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","reportWebVitals.js","index.js"],"names":["Searchbar","state","image","handleInputChange","e","setState","currentTarget","value","toLowerCase","handleFormSubmit","preventDefault","trim","props","onSubmit","reset","className","this","type","onChange","placeholder","Component","ImageGalleryItem","images","openModal","map","id","webformatURL","tags","onClick","src","alt","ImageGallery","Button","Modal","imageId","onClose","find","largeImageURL","KEY","App","imageName","page","isLoading","error","bigImg","searchImages","setTimeout","fetch","then","response","ok","json","Promise","reject","Error","data","hits","prevState","catch","finally","loadMore","handleForm","findBigImage","el","evt","isOpen","Number","closeModal","prevProps","color","height","width","timeout","length","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f07a583a.chunk.js","sourcesContent":["import { Component } from 'react';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    image: '',\r\n  };\r\n  handleInputChange = e => {\r\n    this.setState({ image: e.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleFormSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.image.trim() === '') {\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.image);\r\n    e.currentTarget.reset();\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleFormSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            value={this.state.image}\r\n            onChange={this.handleInputChange}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","export default function ImageGalleryItem({ images, openModal }) {\r\n  return images.map(({ id, webformatURL, tags }) => {\r\n    return (\r\n      <li className=\"ImageGalleryItem\" onClick={openModal} key={id}>\r\n        <img className=\"ImageGalleryItem-image\" src={webformatURL} alt={tags} />\r\n      </li>\r\n    );\r\n  });\r\n}\r\n","import ImageGalleryItem from './ImageGalleryItem';\r\n\r\nexport default function ImageGallery({ images, openModal }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      <ImageGalleryItem images={images} openModal={openModal} />\r\n    </ul>\r\n  );\r\n}\r\n","export default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","export default function Modal({ imageId, onClose, find }) {\r\n  return (\r\n    <div className=\"Overlay\" onClose={onClose}>\r\n      <div className=\"Modal\" imageId={imageId}>\r\n        <img src={find.largeImageURL} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import './App.css';\nimport { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal/Modal';\nconst KEY = '22313175-89def84c9551dc3c20db3bc15';\n\nclass App extends Component {\n  state = {\n    imageName: '',\n    images: [],\n    page: 1,\n    isLoading: false,\n    error: '',\n    bigImg: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.imageName !== this.state.imageName) {\n      this.setState({ images: [] });\n      this.searchImages();\n    }\n    if (prevState.page !== this.state.page) {\n      this.searchImages();\n    }\n  }\n\n  searchImages = () => {\n    const { imageName, page } = this.state;\n    this.setState({ isLoading: true });\n    setTimeout(() => {\n      fetch(\n        `https://pixabay.com/api/?q=${imageName}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n        .then(response => {\n          if (response.ok) {\n            return response.json();\n          }\n\n          return Promise.reject(\n            new Error(`нету такой дичи с именем ${imageName}`),\n          );\n        })\n        .then(data => data.hits)\n        .then(images => {\n          this.setState(prevState => ({\n            images: [...prevState.images, ...images],\n          }));\n        })\n        .catch(error => this.setState({ error }))\n        .finally(() => this.setState({ isLoading: false }));\n    }, 1000);\n  };\n\n  loadMore = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  handleForm = image => {\n    this.setState({ imageName: image });\n  };\n\n  findBigImage = e => {\n    const bigImage = this.state.images.find(el => el.id === this.state.bigImg);\n    return bigImage;\n  };\n  openModal = evt => {\n    this.setState({\n      isOpen: true,\n      bigImg: Number(evt.currentTarget.id),\n    });\n  };\n\n  closeModal = () => this.setState({ isOpen: false });\n\n  render() {\n    const { images, isLoading, isOpen, bigImg } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleForm} />\n        {isLoading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n        {images.length > 0 ? (\n          <ImageGallery images={images} openModal={this.openModal} />\n        ) : (\n          <h2 className=\"title-bar\">\n            Please, enter something in the search bar\n          </h2>\n        )}\n        {images.length > 10 && <Button onClick={this.loadMore} />}\n        {isOpen && (\n          <Modal\n            imageId={bigImg}\n            onClose={this.closeModal}\n            find={this.findBigImage}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}