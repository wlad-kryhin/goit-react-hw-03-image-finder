{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","reportWebVitals.js","index.js"],"names":["Searchbar","state","image","handleInputChange","e","setState","currentTarget","value","toLowerCase","handleFormSubmit","preventDefault","trim","props","onSubmit","className","this","type","onChange","placeholder","Component","ImageGalleryItem","images","onClick","map","id","webformatURL","tags","src","alt","ImageGallery","find","Button","Modal","backDropRef","createRef","handleEscModal","evt","code","toggleModal","handleBackDrop","current","target","window","addEventListener","removeEventListener","photo","largeImageURL","KEY","App","imageName","page","isLoading","modalImg","searchImages","setTimeout","fetch","then","response","ok","json","Promise","reject","Error","data","hits","length","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","prevState","catch","finally","loadMore","handleForm","isOpen","findModalImage","filter","prevProps","scrollTo","top","document","body","scrollHeight","behavior","toastError","color","height","width","timeout","newestOnTop","rtl","theme","pauseOnFocusLoss","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c603b974.chunk.js","sourcesContent":["import { Component } from 'react';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    image: '',\r\n  };\r\n  handleInputChange = e => {\r\n    this.setState({ image: e.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleFormSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.image.trim() === '') {\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.image);\r\n    this.setState({ image: '' });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleFormSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            value={this.state.image}\r\n            onChange={this.handleInputChange}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n        {this.state.image === '' && (\r\n          <p className=\"text\"> Please, enter something in the search bar</p>\r\n        )}\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\r\nexport default function ImageGalleryItem({ images, onClick }) {\r\n  return images.map(({ id, webformatURL, tags }) => {\r\n    return (\r\n      <li className=\"ImageGalleryItem\" onClick={() => onClick(id)} key={id}>\r\n        <img className=\"ImageGalleryItem-image\" src={webformatURL} alt={tags} />\r\n      </li>\r\n    );\r\n  });\r\n}\r\nImageGalleryItem.propTypes = {\r\n  images: PropTypes.array,\r\n  onClick: PropTypes.func,\r\n};\r\n","import ImageGalleryItem from './ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGallery({ images, find }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      <ImageGalleryItem images={images} onClick={find} />\r\n    </ul>\r\n  );\r\n}\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array,\r\n  find: PropTypes.func,\r\n};\r\n","import PropTypes from 'prop-types';\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\nButton.propTypes = {\r\n  onclick: PropTypes.func,\r\n};\r\n","import { Component, createRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Modal extends Component {\r\n  backDropRef = createRef();\r\n  static propTypes = {\r\n    photo: PropTypes.object,\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscModal);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscModal);\r\n  }\r\n  handleEscModal = evt => {\r\n    if (evt.code !== 'Escape') return;\r\n    this.props.toggleModal();\r\n  };\r\n\r\n  handleBackDrop = evt => {\r\n    const { current } = this.backDropRef;\r\n    if (current && current !== evt.target) return;\r\n    this.props.toggleModal();\r\n  };\r\n  render() {\r\n    const { photo } = this.props;\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.handleBackDrop}>\r\n        <div className=\"Modal\">\r\n          <img\r\n            src={photo.largeImageURL}\r\n            alt={photo.tags}\r\n            className=\"modal__img\"\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import './App.css';\nimport { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal/Modal';\nimport PropTypes from 'prop-types';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nconst KEY = '22313175-89def84c9551dc3c20db3bc15';\n\nclass App extends Component {\n  state = {\n    imageName: '',\n    images: [],\n    page: 1,\n    isLoading: false,\n    modalImg: [],\n  };\n\n  static propTypes = { onSubmit: PropTypes.func };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.imageName !== this.state.imageName) {\n      this.setState({ images: [] });\n      this.searchImages();\n    }\n    if (prevState.page !== this.state.page) {\n      this.searchImages();\n    }\n    if (prevState.images !== this.state.images) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  searchImages = () => {\n    const { imageName, page } = this.state;\n    this.setState({ isLoading: true });\n    setTimeout(() => {\n      fetch(\n        `https://pixabay.com/api/?q=${imageName}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n        .then(response => {\n          if (response.ok) {\n            return response.json();\n          }\n\n          return Promise.reject(\n            new Error(`Запрос с именем ${imageName} не найден `),\n          );\n        })\n        .then(data => data.hits)\n        .then(images => {\n          if (images.length === 0) {\n            return toast.error(\n              'Nothing found, please enter a correct keyword!',\n              {\n                position: 'top-right',\n                autoClose: 4000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n              },\n            );\n          }\n          this.setState(prevState => ({\n            images: [...prevState.images, ...images],\n          }));\n        })\n        .catch(error => toast.error(error))\n        .finally(() => this.setState({ isLoading: false }));\n    }, 1000);\n  };\n\n  loadMore = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  handleForm = image => {\n    this.setState({ page: 1 });\n    this.setState({ imageName: image });\n  };\n\n  toggleModal = () => this.setState({ isOpen: !this.state.isOpen });\n\n  findModalImage = id => {\n    this.setState(prevState => ({\n      modalImg: prevState.images.filter(image => image.id === id),\n      isOpen: !this.state.isOpen,\n    }));\n  };\n\n  render() {\n    const { images, isLoading, isOpen, modalImg } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleForm} toast={this.toastError} />\n        {images.length > 0 && (\n          <ImageGallery images={images} find={this.findModalImage} />\n        )}\n        {images.length > 10 && <Button onClick={this.loadMore} />}\n        {isOpen && <Modal photo={modalImg[0]} toggleModal={this.toggleModal} />}\n        {isLoading && (\n          <div className=\"loader\">\n            <Loader\n              type=\"Puff\"\n              color=\"#00BFFF\"\n              height={100}\n              width={100}\n              timeout={3000} //3 secs\n            />\n          </div>\n        )}\n\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={2500}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          theme={'colored'}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}